@model Domain.Models.Employee

@{
    ViewData["Title"] = "EmployeeInfPage";
}
@section EmpViewSt{
    <link rel="stylesheet" href="~/css/EmployeeViewStyle.css?v=@DateTime.Now.Millisecond" />
}
<div class="MainDiv">
        <div class="WorkBody">
             <div class="NameAndPhopo">
                 <div class="imgDiv">
                     <img src="@Url.Content(Model.User.UserInfo.PhotoPath)">
                 </div>
                 <div class="Name">
                     @Model.User.UserInfo.Name @Model.User.UserInfo.Surname
                 </div>              
             </div>
             
            <div class="Discription">
                <div class="Text">
                 @Model.User.UserInfo.Information
                </div>
            </div>
            <div class="infList" style="border-bottom: 1px solid #d5dbdb;">
                <div class="infItem" >
                    <span class="type">rating:</span> @Model.Rating
                </div>
                <div class="infItem">
                    <span class="type">count of finished work:</span> @Model.ExecutedWorks.Where(x=>x.IsFinished).Count()
                </div>
            </div>
            <div class="SkDiv">
             <div class="Skills">
                 <div class="SkillHeader">
                     Skills:
                 </div>
                @foreach (var item in Model.Skills)
                {
                     <div class="Skill">
                        @item.Name
                    </div>
                }
                 
             </div>
            </div>
            <div class="Comments">
                        @foreach (var item in Model.Reviews)
                        {
                             <div class="Comment">
                                <div class="image" >
                                    <img  class="image" src="@Url.Content(item.Customer.User.UserInfo.PhotoPath)" style="object-fit: cover;"/>
                                </div>
                                <div class="text">
                                    <div class="Name">
                                        <div style="display:flex;align-items:center;">
                                            <b>@item.Customer.User.UserInfo.Name @item.Customer.User.UserInfo.Surname</b> 
                                            <div class="starlist" style="margin-left:10px">
                                                @for (double i = 0, rating = item.Rating; i < 5; i++)
                                                {
                                                    @if (rating >= 1 )
                                                    {
                                                        <div class="star">
                                                            <img src="~/Images/star1.png" width="100%">
                                                        </div>
                                                        rating--;
                                                    }
                                                    else if(rating >0.5)
                                                    {
                                                        <div class="star">
                                                            <img src="~/Images/star0.5.png" width="100%">
                                                        </div>
                                                        rating--;
                                                    }
                                                    else
                                                    {
                                                        <div class="star">
                                                            <img src="~/Images/star0.png" width="100%">
                                                        </div>
                                                    }
                                

                        
                                                }
                                            </div>
                                        </div>
                                         
                                         <div class="writeTime">
                                            @item.CreatedTime
                                         </div>
                                        
                                    </div>
                                    <div class="content">
                                        @item.Text
                                    </div>  
                                </div>
                              </div>
                        }          
                    </div>
        </div>
     </div>